version: '3'

services:
    e2etestwebapi:
        build:
            context: ./../TestApps/Net452/E2ETestWebApi/Publish
            dockerfile: DockerFile462
        depends_on:
            - ingestionservice
            
    e2etestwebapp:
        build: 
            context: ./../TestApps/Net452/E2ETestApp/Publish
            dockerfile: DockerFile462
        depends_on:
            - e2etestwebapi
            - sql-server

    ingestionservice:
        build:
            context: ./../IngestionService/Publish
            dockerfile: DockerFile              

    sql-server:
        image: microsoft/mssql-server-windows-express
        environment:
            SA_PASSWORD: MSDNm4g4z!n3
            ACCEPT_EULA: "Y"